{
  "id": "slack-bench",
  "name": "Slack Bench",
  "description": "Benchmark tests for Slack MCP operations",
  "service": "slack",
  "ignore_fields": {
    "global": [
      "created_at",
      "updated_at",
      "message_id"
    ]
  },
  "tests": [
    {
      "id": "test_1",
      "name": "Send message to general channel",
      "prompt": "Send a 'hello' message to the general channel",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "hello"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_2",
      "name": "Send direct message",
      "prompt": "Send a DM to John saying 'Can we sync later?'",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "sync later"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_3",
      "name": "Send direct message Artem, and Hubert (Create group conversation + send message)",
      "prompt": "Send a DM (group conversation not channel) to Artem and Hubert saying 'Hey, I've took a look at the presentation and I have some questions. Can you help me?'",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "contains": "presentation and I have some questions"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_gc": {
              "eq": true
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_4",
      "name": "Create a new channel",
      "prompt": "Create a new channel called 'rl-project'",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": {
              "i_contains": "rl-project"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_5",
      "name": "Add user to channel",
      "prompt": "Add Morgan to the 'random' channel",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U05MORGAN23"
            },
            "channel_id": {
              "eq": "C02EFGH5678"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_6",
      "name": "Create a new channel and add user to it ",
      "prompt": "Create a new channel called 'rl-project' and add Morgan to it",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": {
              "i_contains": "rl-project"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U05MORGAN23"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_7",
      "name": "Reply in a thread",
      "prompt": "Reply 'Next monday.' to the most recent message in #general",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "parent_id": {
              "eq": "1700173200.000456"
            },
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "Next monday"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_8",
      "name": "Reply in a thread",
      "prompt": "Reply 'Next monday.' to the to MCP deployment questions in #general",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "parent_id": {
              "eq": "1700173200.000456"
            },
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "Next monday"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_9",
      "name": "Add emoji reaction",
      "prompt": "React with :thumbsup: to the question about lunch in #random",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1699572000.000789"
            },
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "reaction_type": {
              "eq": "thumbsup"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_10",
      "name": "Add emoji reaction",
      "prompt": "React with :thumbsup: to the newest message in #general",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "message_reactions",
          "where": {
            "message_id": {
              "eq": "1700173200.000456"
            },
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "reaction_type": {
              "eq": "thumbsup"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_11",
      "name": "Update channel topic",
      "prompt": "Change the #general channel topic to 'Weekly standup discussions'",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "changed",
          "entity": "channels",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            }
          },
          "expected_changes": {
            "topic_text": {
              "to": {
                "contains": "Weekly standup"
              }
            }
          }
        }
      ]
    },
    {
      "id": "test_12",
      "name": "Edit existing message",
      "prompt": "Find the message that says 'Hey team' and edit it to say 'Hello everyone'",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U02JOHNDOE1",
      "assertions": [
        {
          "diff_type": "changed",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_id": {
              "eq": "1699564800.000123"
            }
          },
          "expected_changes": {
            "message_text": {
              "to": {
                "contains": "Hello everyone"
              }
            }
          }
        }
      ]
    },
    {
      "id": "test_13",
      "name": "Mention user in message",
      "prompt": "Post to #general mentioning Artem with text 'Please review the pull request'",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "<@U02ARTEM23>"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_14",
      "name": "Multi-channel send",
      "prompt": "Send 'System maintenance tonight at 10pm' to both #general and #random",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "message_text": {
              "contains": "maintenance"
            },
            "channel_id": {
              "eq": "C01ABCD1234"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "message_text": {
              "contains": "maintenance"
            },
            "channel_id": {
              "eq": "C02EFGH5678"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_15",
      "name": "Delete old message",
      "prompt": "Delete the message about deployment from #general",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "deleted",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "deployment"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_16",
      "name": "Forward message to another channel",
      "prompt": "Copy the question from #random and also post it to #general",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "channel_id": {
              "eq": "C01ABCD1234"
            },
            "message_text": {
              "contains": "Anyone up for lunch?"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_17",
      "name": "Search messages in a channel and combine results into a new message as DM",
      "prompt": "Search for all messages (4 messages) in the #engineering channel related to login issues and combine them into a single new message as DM to Hubert. Do not change the meaning of the original messages just combine them.",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            },
            "channel_id": {
              "regex": "^D"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U06HUBERT23"
            },
            "channel_id": {
              "regex": "^D"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "channel_id": {
              "regex": "^D"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "channel_id": {
              "regex": "^D"
            },
            "message_text": {
              "regex": "(?=.*'500 errors')(?=.*'invalid_grant')(?=.*'login rate limit')(?=.*'login endpoint')"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_18",
      "name": "Search messages in multiple channels and combine results into a new message as DM",
      "prompt": "Search for all messages (6 messages) related to login issues and auth improvments. Combine them into a single new message as DM to Hubert. Do not change the meaning of the original messages just combine them.",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "is_dm": {
              "eq": true
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "channel_members",
          "where": {
            "user_id": {
              "eq": "U06HUBERT23"
            }
          },
          "expected_count": 1
        },
        {
          "diff_type": "added",
          "entity": "messages",
          "where": {
            "user_id": {
              "eq": "U01AGENBOT9"
            },
            "message_text": {
              "regex": "(?=.*'500 errors')(?=.*'invalid_grant')(?=.*'login rate limit')(?=.*'login endpoint')(?=.*'captcha')(?=.*'empty password')"
            }
          },
          "expected_count": 1
        }
      ]
    },
    {
      "id": "test_17",
      "name": "Search messages in multiple channels and edit a message in a channel with info about them",
      "prompt": "Create a new channel called 'rl-project' and add Morgan to it",
      "type": "actionEval",
      "seed_template": "slack_default",
      "impersonate_user_id": "U01AGENBOT9",
      "assertions": [
        {
          "diff_type": "added",
          "entity": "channels",
          "where": {
            "channel_name": {
              "i_contains": "rl-project"
            }
          },
          "expected_count": 1
        }
      ]
    }
  ]
}